    ManageStudents.java는 세 개의 매개변수를 가지며 첫번째 매개변수는 WriteStudents.java로 변환한 binary 파일 이름이다. 두번째 매개변수 부터는 다음의 기능을 처리해야 한다. 매개변수 file은 변환된 binary 파일명이다. 아래 모든 변경은 binary 파일에 대해서 실행되어야 한다.

①    java ManageStudents file p 번호, java ManageStudents file s 학번 , java ManageStudents file n 이름 : 이 기능은 프로그램 숙제 #1의 ReadStudents.java의 기능을 동일하게 수행한다. 삭제된 레코드는 이름, 학번, 주소 등으로 검색되지 말아야 한다. p 명령어의 경우 번호는 첫번째 레코드를 1로 다음부터는 2부터 증가하며 삭제된 레코드도 이 번호는 유지한다. 따라서, p 5인 경우 5번 레코드가 삭제된 경우엔 레코드 내용을 출력하지 말고 삭제된 레코드로 표시한다..

②    java ManageStudents file d 번호 : d는 삭제(delete)를 상징한다. 번호는 삭제될 학생의 학번이고 binary 파일에서 학번의 학생 정보를 삭제한다. “삭제”란 의미는 해당 레코드가 학번, 이름 등으로 검색했을 경우 나타나지 않도록 하는 것이다. *과 같은 삭제표시를 사용할 수 있다. 번호는 1번부터 시작한다. 번호가 0인 경우 binary 파일 내의 모든 삭제된 레코드에 대한 정보를 다음과 같이 출력한다. [10]과 같은 숫자는 레코드 번호를 나타낸다. 삭제 기능은 avail list를 이용하여 삭제된 공간들의 주소를 관리해야 한다.

 

         [10] 삭제된 공간 120 바이트

         [23] 삭제된 공간 78 바이트

                  ….

         [99] 삭제된 공간 134 바이트

 

③    java ManageStudents file u 번호 이름 성별 전화번호 주소 : file은 WriteStudents.java로 생성한 binary 파일명, u는 갱신(update)을 상징한다. 번호는 수정할 학생의 학번이고 순서대로 해당 학번 학생의 이름, 성별(m 또는 f), 전화번호, 주소 등을 매개변수로 제시된 정보로 수정한다. 단, 수정될 항목이 – 기호인 경우 해당 항목은 원래 데이터를 유지한다. 예를 들어 다음과 같이 실행하는 경우 성별과 주소만 수정된다. 갱신 후 레코드 길이가 더 길어지는 경우 원래 레코드는 삭제하고 더 길어지는 경우 파일의 끝에 추가한다. 그러나, 레코드 길이가 줄어든 경우엔 원래의 레코드 공간을 그대로 사용한다. 따라서, 이 레코드는 내부 단편화를 갖게된다.  [참고] 파일의 끝에 추가하는 방법: RandomAccessFile인 dout의 파일 크기로 seek()를 적용. (예) dout.seek(dout.length()); s.storeOneStudent(dout);

> java ManageStudents  student_10.txt_dat  u  20008  –  f  –  부산시_남구_해운대3동

만일 학생의 학번이 존재하지 않는 경우 적절한 오류 처리를 해야 한다.

④ 위에 제시된 매개변수 형식에 어긋나면 오류 처리를 해야 한다.